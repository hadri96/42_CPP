NAME= 			account

CC = 			c++

RED =			\033[0;31m
GREEN =			\033[0;32m
YELLOW =		\033[0;33m
BLUE =			\033[0;34m
MAGENTA =		\033[0;35m
CYAN =			\033[0;36m
WHITE =			\033[0;37m
RESET =			\033[0m

CFLAGS = 		-Wall -Wextra -Werror -std=c++98

SRCS = 			tests \
				Account


FILES =			$(SRCS:%=%.cpp)

OBJS = 			$(addprefix objs/, $(addsuffix .o, $(SRCS)))

objs/%.o: %.cpp
			@if ! [ -d objs ]; then\
				mkdir objs;\
			fi
			@$(CXX) $(CXXFLAGS) -c -o $@ $<

all:	$(NAME)

$(NAME):	$(OBJS)
	@$(CC) $(CFLAGS) -o $@ $(FILES)
	@echo "$(GREEN) ✅ Compilation done! ✅$(RESET)"

clean:
	rm -rf objs
	@echo "$(RED) 🗑️ Object files deleted! 🗑️$(RESET)"

fclean:		clean
	rm $(NAME)
	@echo "$(RED) 🗑️ Executable deleted! 🗑️$(RESET)"

re:			fclean all

.PHONY: all clean fclean re
